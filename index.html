<!DOCTYPE html>
<html>
	<head>
	    <meta charset='utf-8'>
	    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
	    <title>Protein-Go demo</title>
	    <script src='https://aframe.io/releases/0.9.2/aframe.min.js'></script>
	   <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.js"></script>
	    <script>
		THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
	    </script>
	</head>
	<body style='margin: 0; overflow: hidden;'>
		<a-scene vr-mode-ui="enabled: false"
				embedded 
			 arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; 
			       displayHeight: 960; debugUIEnabled: false; trackingMethod: best;' 
			 ar-hit-test="target:#some-element"
			 webxr="overlayElement:#dom-overlay;">
				<a-assets>
					<a-asset-item id="capsid" src="separated_colored.glb"></a-asset-item>
				</a-assets>
				<a-gltf-model id="moving_capsid" position="0 0 -40" scale="0.1 0.1 0.1" hide-on-enter-ar src="#capsid" animation-mixer
					    shadow="cast: true; receive: false"></a-gltf-model>
				<a-camera position="0 1.2 0"></a-camera>
		</a-scene>
		<script>
			sceneEl.addEventListener('enter-vr', function () {
			  if (this.is('ar-mode')) {
			    message.textContent = '';
			    this.addEventListener('ar-hit-test-start', function () {
			      message.innerHTML = `Scanning environment, finding surface.`
			    }, { once: true });
			    this.addEventListener('ar-hit-test-achieved', function () {
			      message.innerHTML = `Select the location to place the furniture. By tapping on the screen or selecting with your controller.`
			    }, { once: true });
			    this.addEventListener('ar-hit-test-select', function () {
			      message.textContent = 'Object placed!';
			    }, { once: true });
			  }
			});
		</script>
	</body>
</html>
