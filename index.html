<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible' content='IE=edge'>
		<title>Protein Go! demo</title>
		<script src='https://aframe.io/releases/0.9.2/aframe.min.js'></script>
		<script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
		<script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
		<script>
			THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
		</script>
	</head>
    	<body>
		<a-scene ar vr-mode-ui="enabled: false" 
			 embedded arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; 
					displayHeight: 960; debugUIEnabled: false; trackingMethod: best;' 
			 webxr="requiredFeatures: hit-test,local-floor; optionalFeatures: dom-overlay,unbounded; overlayElement: #overlay;">
			<a-camera user-height="0" rotation-reader></a-camera>
	    		<a-gltf-model src="separated_colored.glb" position="0 0 -50" scale="0.1 0.1 0.1" look-controls-component></a-gltf-model>
	  	</a-scene>
		<script>
			AFRAME.components["look-controls"].Component.prototype.onTouchMove = function (t) {
				if (this.touchStarted && this.data.touchEnabled) {
					this.pitchObject.rotation.x += .6 * Math.PI * (t.touches[0].pageY - this.touchStart.y) / this.el.sceneEl.canvas.clientHeight;
					this.yawObject.rotation.y += /*  */ Math.PI * (t.touches[0].pageX - this.touchStart.x) / this.el.sceneEl.canvas.clientWidth;
					this.pitchObject.rotation.x = Math.max(Math.PI / -2, Math.min(Math.PI / 2, this.pitchObject.rotation.x));
					this.touchStart = {
					    x: t.touches[0].pageX,
					    y: t.touches[0].pageY
					}
			    	}
			}
		</script>
	</body>
</html>
